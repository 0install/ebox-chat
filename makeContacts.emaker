def makeContact(name :String) {
	return def contact {
	}
}

def makeContacts(makeSturdyRef) {
	def addressBook := [].asMap().diverge()

	return def contacts {
		to invite(name :String) :SturdyRef {
			require(name.size() > 0, `Name cannot be empty`)
			require(!addressBook.maps(name), `Already have this contact: $name`)
			def contact := makeContact(name)
			addressBook[name] := contact

			return makeSturdyRef.temp(contact)
		}
	}
}
